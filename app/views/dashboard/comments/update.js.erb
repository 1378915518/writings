<% if @comment.errors.empty? %>
  <% case @comment.discussion
     when Topic %>
    Turbolinks.visit('<%= dashboard_topic_path(:id => @comment.discussion) %>');
  <% when Note %>
    $('#comment-<%= @comment.token %>').replaceWith('<%= j render :partial => 'dashboard/notes/comment', :object => @comment %>');
    AlertMessage.remove('ajax-loading');
  <% end %>
<% else %>
  AlertMessage.show({
    type: 'error',
  text: '<%= @comment.errors.full_messages.join %>'
  });
<% end %>
